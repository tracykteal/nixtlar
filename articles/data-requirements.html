<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Data Requirements • nixtlar</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Data Requirements">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">nixtlar</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.5.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/get-started.html">Get Started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://docs.nixtla.io/">Nixtla</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">News</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/anomaly-detection.html">Anomaly Detection</a></li>
    <li><a class="dropdown-item" href="../articles/cross-validation.html">Cross-Validation</a></li>
    <li><a class="dropdown-item" href="../articles/data-requirements.html">Data requirements</a></li>
    <li><a class="dropdown-item" href="../articles/exogenous-variables.html">Exogenous Variables</a></li>
    <li><a class="dropdown-item" href="../articles/historical-forecast.html">Historical Forecast</a></li>
    <li><a class="dropdown-item" href="../articles/long-horizon.html">Long Horizon Forecast</a></li>
    <li><a class="dropdown-item" href="../articles/prediction-intervals.html">Prediction Intervals</a></li>
    <li><a class="dropdown-item" href="../articles/quantiles.html">Quantile Forecasts</a></li>
    <li><a class="dropdown-item" href="../articles/setting-up-your-api-key.html">Setting Up Your API Key</a></li>
    <li><a class="dropdown-item" href="../articles/special-topics.html">Special Topics</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/Nixtla/nixtlar"><span class="fa fa-github"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Data Requirements</h1>
            
      

      <div class="d-none name"><code>data-requirements.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://nixtla.github.io/nixtlar/">nixtlar</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; Registered S3 method overwritten by 'tsibble':</span></span>
<span><span class="co">#&gt;   method               from </span></span>
<span><span class="co">#&gt;   as_tibble.grouped_df dplyr</span></span></code></pre></div>
<p>This vignette explains the data requirements for using any of the
core functions of <code>nixtlar</code>:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Core functions of `nixtlar` </span></span>
<span><span class="op">-</span> <span class="fu">nixtlar</span><span class="fu">::</span><span class="fu"><a href="../reference/nixtla_client_forecast.html">nixtla_client_forecast</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">-</span> <span class="fu">nixtlar</span><span class="fu">::</span><span class="fu"><a href="../reference/nixtla_client_historic.html">nixtla_client_historic</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">-</span> <span class="fu">nixtlar</span><span class="fu">::</span><span class="fu"><a href="../reference/nixtla_client_detect_anomalies.html">nixtla_client_detect_anomalies</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">-</span> <span class="fu">nixtlar</span><span class="fu">::</span><span class="fu"><a href="../reference/nixtla_client_cross_validation.html">nixtla_client_cross_validation</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">-</span> <span class="fu">nixtlar</span><span class="fu">::</span><span class="fu"><a href="../reference/nixtla_client_plot.html">nixtla_client_plot</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="input-requirements">1. Input requirements<a class="anchor" aria-label="anchor" href="#input-requirements"></a>
</h2>
<p><code>nixtlar</code> supports input data in the form of data frames
and <code>tsibbles</code>. When working with the latter,
<code>nixtlar</code> will do some transformations in the background to
comply with <code>TimeGPT</code>’s data requirements, but the output
will always be a <code>tsibble</code> with no additional action required
on your part.</p>
<p>Whether you use a data frame or a <code>tsibble</code>, when using
any of the core functions of <code>nixtlar</code>, you must include the
following two columns:</p>
<ul>
<li><p><strong>Date column</strong>: This column should contain
timestamps, which may be formatted as character strings (
<code>yyyy-mm-dd</code> or <code>yyyy-mm-dd HH:MM:SS</code>), integers,
or date-time objects. The character string format is preferred, although
<code>nixtlar</code> is compatible with the latter two types. The
default name for this column is <code>ds</code>. If your dataset uses a
different name, please specify it by setting the parameter
<code>time_col="your_time_column_name"</code>.</p></li>
<li><p><strong>Target column</strong>: This column should contain the
target variable to forecast, and it must be numeric. The default name
for this column is <code>y</code>. If your data uses a different name,
please specify it by setting the parameter
<code>target_col="your target column"</code>.</p></li>
</ul>
</div>
<div class="section level2">
<h2 id="multiple-series">2. Multiple series<a class="anchor" aria-label="anchor" href="#multiple-series"></a>
</h2>
<p>If you are working with multiple series, you must include a column
with a unique identifier for each of them. This column should contain
character strings or integers. Unlike the <a href="https://github.com/Nixtla/nixtla" class="external-link">Python SDK</a>, which defaults
to <code>unique_id</code>, <code>nixtlar</code> does not have a default
name for this identifier column. <strong>This is one of the few
differences between nixtlar and the Python SDK</strong>. You
<strong>must</strong> specify the name of this identifier column if it
exists in your dataset. Set this by using
<code>id_col="your_unique_id_column"</code>.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># sample valid input </span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu">nixtlar</span><span class="fu">::</span><span class="va"><a href="../reference/electricity.html">electricity</a></span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span>
<span><span class="co">#&gt;   unique_id                  ds     y</span></span>
<span><span class="co">#&gt; 1        BE 2016-10-22 00:00:00 70.00</span></span>
<span><span class="co">#&gt; 2        BE 2016-10-22 01:00:00 37.10</span></span>
<span><span class="co">#&gt; 3        BE 2016-10-22 02:00:00 37.10</span></span>
<span><span class="co">#&gt; 4        BE 2016-10-22 03:00:00 44.75</span></span>
<span><span class="co">#&gt; 5        BE 2016-10-22 04:00:00 37.10</span></span>
<span><span class="co">#&gt; 6        BE 2016-10-22 05:00:00 35.61</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span>
<span><span class="co">#&gt; 'data.frame':    8400 obs. of  3 variables:</span></span>
<span><span class="co">#&gt;  $ unique_id: chr  "BE" "BE" "BE" "BE" ...</span></span>
<span><span class="co">#&gt;  $ ds       : chr  "2016-10-22 00:00:00" "2016-10-22 01:00:00" "2016-10-22 02:00:00" "2016-10-22 03:00:00" ...</span></span>
<span><span class="co">#&gt;  $ y        : num  70 37.1 37.1 44.8 37.1 ...</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="exogenous-variables">3. Exogenous variables<a class="anchor" aria-label="anchor" href="#exogenous-variables"></a>
</h2>
<p>When using exogenous variables, you need to</p>
<ol style="list-style-type: decimal">
<li>Add the historical exogenous variables to your input data, and</li>
<li>Create a dataset with the future values of said exogenous variables,
ensuring it spans the entire forecast horizon. This dataset should
include a column with the appropriate timestamps and, if available, the
unique identifiers, in the formats explained in the previous
sections.</li>
</ol>
<p>Please note that all columns after the target column will be
considered exogenous variables. Hence, if you have additional columns in
your dataset that are not exogenous variables, you must remove them
before using any of the core functions of <code>nixtlar</code>.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># sample valid input with exogenous variables </span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu">nixtlar</span><span class="fu">::</span><span class="va"><a href="../reference/electricity_exo_vars.html">electricity_exo_vars</a></span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span>
<span><span class="co">#&gt;   unique_id                  ds     y Exogenous1 Exogenous2 day_0 day_1 day_2</span></span>
<span><span class="co">#&gt; 1        BE 2016-10-22 00:00:00 70.00      49593      57253     0     0     0</span></span>
<span><span class="co">#&gt; 2        BE 2016-10-22 01:00:00 37.10      46073      51887     0     0     0</span></span>
<span><span class="co">#&gt; 3        BE 2016-10-22 02:00:00 37.10      44927      51896     0     0     0</span></span>
<span><span class="co">#&gt; 4        BE 2016-10-22 03:00:00 44.75      44483      48428     0     0     0</span></span>
<span><span class="co">#&gt; 5        BE 2016-10-22 04:00:00 37.10      44338      46721     0     0     0</span></span>
<span><span class="co">#&gt; 6        BE 2016-10-22 05:00:00 35.61      44504      46303     0     0     0</span></span>
<span><span class="co">#&gt;   day_3 day_4 day_5 day_6</span></span>
<span><span class="co">#&gt; 1     0     0     1     0</span></span>
<span><span class="co">#&gt; 2     0     0     1     0</span></span>
<span><span class="co">#&gt; 3     0     0     1     0</span></span>
<span><span class="co">#&gt; 4     0     0     1     0</span></span>
<span><span class="co">#&gt; 5     0     0     1     0</span></span>
<span><span class="co">#&gt; 6     0     0     1     0</span></span>
<span></span>
<span><span class="va">future_exo_vars</span> <span class="op">&lt;-</span> <span class="fu">nixtlar</span><span class="fu">::</span><span class="va"><a href="../reference/electricity_future_exo_vars.html">electricity_future_exo_vars</a></span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">future_exo_vars</span><span class="op">)</span></span>
<span><span class="co">#&gt;   unique_id                  ds Exogenous1 Exogenous2 day_0 day_1 day_2 day_3</span></span>
<span><span class="co">#&gt; 1        BE 2016-12-31 00:00:00      64108      70318     0     0     0     0</span></span>
<span><span class="co">#&gt; 2        BE 2016-12-31 01:00:00      62492      67898     0     0     0     0</span></span>
<span><span class="co">#&gt; 3        BE 2016-12-31 02:00:00      61571      68379     0     0     0     0</span></span>
<span><span class="co">#&gt; 4        BE 2016-12-31 03:00:00      60381      64972     0     0     0     0</span></span>
<span><span class="co">#&gt; 5        BE 2016-12-31 04:00:00      60298      62900     0     0     0     0</span></span>
<span><span class="co">#&gt; 6        BE 2016-12-31 05:00:00      60339      62364     0     0     0     0</span></span>
<span><span class="co">#&gt;   day_4 day_5 day_6</span></span>
<span><span class="co">#&gt; 1     0     1     0</span></span>
<span><span class="co">#&gt; 2     0     1     0</span></span>
<span><span class="co">#&gt; 3     0     1     0</span></span>
<span><span class="co">#&gt; 4     0     1     0</span></span>
<span><span class="co">#&gt; 5     0     1     0</span></span>
<span><span class="co">#&gt; 6     0     1     0</span></span></code></pre></div>
<p>To learn more about how to use exogenous variables, please refer to
the <a href="https://nixtla.github.io/nixtlar/articles/exogenous-variables.html">Exogenous
variables vignette</a>.</p>
</div>
<div class="section level2">
<h2 id="missing-values">4. Missing values<a class="anchor" aria-label="anchor" href="#missing-values"></a>
</h2>
<p>When using <code>TimeGPT</code> via <code>nixtlar</code>, you need to
ensure that:</p>
<ol style="list-style-type: decimal">
<li><p><strong>No Missing Values in Target Column</strong>: The target
column must not contain any missing values (NA).</p></li>
<li><p><strong>Continuous Date Sequence</strong>: The dates must be
continuous and without any gaps, from the start date to the end date,
matching the frequency of the data.</p></li>
</ol>
<p>Currently, <strong>nixtlar</strong> does not provide any
functionality to fill missing values or dates. To learn more about this,
please refer to the vignette on <a href="https://nixtla.github.io/nixtlar/articles/special-topics.html">Special
Topics</a>.</p>
</div>
<div class="section level2">
<h2 id="minimum-data-requirements">5. Minimum data requirements<a class="anchor" aria-label="anchor" href="#minimum-data-requirements"></a>
</h2>
<p>The minimum size <strong>per series</strong> to obtain results from
<code><a href="../reference/nixtla_client_forecast.html">nixtlar::nixtla_client_forecast</a></code> is one, regardless of the
frequency of the data. Keep in mind, however, that this will produce
results with limited accuracy.</p>
<p>For certain scenarios, more than one observation may be
necessary:</p>
<ul>
<li>When using the parameters <code>level</code>,
<code>quantiles</code>, or <code>finetune_steps</code>.</li>
<li>When incorporating exogenous variables.</li>
<li>When including historical forecasts by setting
<code>add_history=TRUE</code>.</li>
</ul>
<p>The minimum data requirement varies with the frequency of the data,
detailed in the official <a href="https://docs.nixtla.io/docs/getting-started-data_requirements" class="external-link">TimeGPT
documentation</a>.</p>
<p>When using <code><a href="../reference/nixtla_client_cross_validation.html">nixtlar::nixtla_client_cross_validation</a></code>, you
also need to consider the forecast horizon (<code>h</code>), the number
of windows (<code>n_windows</code>) and the step size
(<code>step_size</code>). The formula for the minimum data points
required per series is:</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext mathvariant="normal">Min per series</mtext><mo>=</mo><mtext mathvariant="normal">Min per frequency</mtext><mo>+</mo><mi>h</mi><mo>+</mo><mtext mathvariant="normal">step_size</mtext><mo>*</mo><mrow><mo stretchy="true" form="prefix">(</mo><mtext mathvariant="normal">n_windows</mtext><mo>−</mo><mn>1</mn><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">\begin{equation}
\text{Min per series} = \text{Min per frequency}+h+\text{step_size}*(\text{n_windows}-1)
\end{equation}</annotation></semantics></math></p>
<p>Here,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mtext mathvariant="normal">Min per frequency</mtext><annotation encoding="application/x-tex">\text{Min per frequency}</annotation></semantics></math>
refers to the values specified in the table from the official
documentation.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Mariana Menchero.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
